function hn(n){return typeof n=="number"}function vn(n){return typeof n=="string"}function Sn(n){return typeof n=="boolean"}function Dn(n){return Object.prototype.toString.call(n)==="[object Object]"}function O(n){return Math.abs(n)}function yn(n){return Math.sign(n)}function an(n,t){return O(n-t)}function On(n,t){if(n===0||t===0||O(n)<=O(t))return 0;const e=an(O(n),O(t));return O(e/n)}function sn(n){return fn(n).map(Number)}function X(n){return n[dn(n)]}function dn(n){return Math.max(0,n.length-1)}function fn(n){return Object.keys(n)}function Ln(n,t){return[n,t].reduce((e,s)=>(fn(s).forEach(i=>{const o=e[i],r=s[i],f=Dn(o)&&Dn(r);e[i]=f?Ln(o,r):r}),e),{})}function In(n,t){return typeof t.MouseEvent<"u"&&n instanceof t.MouseEvent}function Pn(n,t){const e={start:s,center:i,end:o};function s(){return 0}function i(u){return o(u)/2}function o(u){return t-u}function r(){return t*Number(n)}function f(u){return hn(n)?r():e[n](u)}return{measure:f}}function Bn(n,t){const e=n==="y"?"y":"x",s=n==="y"?"x":"y",i=f(),o=c();function r(d){const{width:a,height:l}=d;return e==="x"?a:l}function f(){return e==="y"?"top":t==="rtl"?"right":"left"}function c(){return e==="y"?"bottom":t==="rtl"?"left":"right"}return{scroll:e,cross:s,startEdge:i,endEdge:o,measureSize:r}}function J(n,t){const e=O(n-t);function s(u){return u<n}function i(u){return u>t}function o(u){return s(u)||i(u)}function r(u){return o(u)?s(u)?n:t:u}function f(u){return e?u-e*Math.ceil((u-t)/e):u}return{length:e,max:t,min:n,constrain:r,reachedAny:o,reachedMax:i,reachedMin:s,removeOffset:f}}function An(n,t,e){const{constrain:s}=J(0,n),i=n+1;let o=r(t);function r(l){return e?O((i+l)%i):s(l)}function f(){return o}function c(l){return o=r(l),a}function u(l){return d().set(f()+l)}function d(){return An(n,f(),e)}const a={get:f,set:c,add:u,clone:d};return a}function Fn(n){const t=n==="rtl"?-1:1;function e(i){return i*t}return{apply:e}}function rn(){let n=[];function t(i,o,r,f={passive:!0}){return i.addEventListener(o,r,f),n.push(()=>i.removeEventListener(o,r,f)),s}function e(){n=n.filter(i=>i())}const s={add:t,clear:e};return s}function Cn(n,t,e,s,i,o,r,f,c,u,d,a,l,g,m,x,v,b,h){const{cross:p}=n,I=["INPUT","SELECT","TEXTAREA"],S={passive:!1},L=rn(),D=rn(),T=J(50,225).constrain(m.measure(20)),P={mouse:300,touch:400},k={mouse:500,touch:600},G=x?43:25;let U=!1,$=0,w=0,H=!1,V=!1,z=!1,F=!1;function en(y,E){if(!E)return;function M(B){(Sn(E)||E(y,B))&&on(B)}const A=e;L.add(A,"dragstart",B=>B.preventDefault(),S).add(A,"touchmove",()=>{},S).add(A,"touchend",()=>{}).add(A,"touchstart",M).add(A,"mousedown",M).add(A,"touchcancel",N).add(A,"contextmenu",N).add(A,"click",W,!0)}function j(){L.clear(),D.clear()}function R(){const y=F?s:e;D.add(y,"touchmove",_,S).add(y,"touchend",N).add(y,"mousemove",_,S).add(y,"mouseup",N)}function K(y){const E=y.nodeName||"";return I.includes(E)}function Z(){return(x?k:P)[F?"mouse":"touch"]}function Y(y,E){const M=l.add(yn(y)*-1),A=a.byDistance(y,!x).distance;return x||O(y)<T?A:b&&E?A*.5:a.byIndex(M.get(),0).distance}function on(y){const E=In(y,i);F=E,!(E&&y.button!==0)&&(K(y.target)||(z=x&&E&&!y.buttons&&U,U=an(o.get(),f.get())>=2,H=!0,r.pointerDown(y),d.useFriction(0).useDuration(0),o.set(f),R(),$=r.readPoint(y),w=r.readPoint(y,p),g.emit("pointerDown")))}function _(y){const E=r.readPoint(y),M=r.readPoint(y,p),A=an(E,$),B=an(M,w);if(!V&&!F&&(!y.cancelable||(V=A>B,!V)))return N(y);const C=r.pointerMove(y);A>v&&(z=!0),d.useFriction(.3).useDuration(1),c.start(),o.add(t.apply(C)),y.preventDefault()}function N(y){const M=a.byDistance(0,!1).index!==l.get(),A=r.pointerUp(y)*Z(),B=Y(t.apply(A),M),C=On(A,B),Q=G-10*C,tn=h+C/50;V=!1,H=!1,D.clear(),d.useDuration(Q).useFriction(tn),u.distance(B,!x),F=!1,g.emit("pointerUp")}function W(y){z&&(y.stopPropagation(),y.preventDefault())}function nn(){return H}return{init:en,pointerDown:nn,destroy:j}}function Nn(n,t){let s,i;function o(a){return a.timeStamp}function r(a,l){const m=`client${(l||n.scroll)==="x"?"X":"Y"}`;return(In(a,t)?a:a.touches[0])[m]}function f(a){return s=a,i=a,r(a)}function c(a){const l=r(a)-r(i),g=o(a)-o(s)>170;return i=a,g&&(s=a),l}function u(a){if(!s||!i)return 0;const l=r(i)-r(s),g=o(a)-o(s),m=o(a)-o(i)>170,x=l/g;return g&&!m&&O(x)>.1?x:0}return{pointerDown:f,pointerMove:c,pointerUp:u,readPoint:r}}function kn(n){function t(s){return n*(s/100)}return{measure:t}}function wn(n,t,e,s,i){let o,r,f=[],c=!1;function u(g){return i.measureSize(g.getBoundingClientRect())}function d(g,m){if(!m)return;r=u(n),f=s.map(u);function x(b){for(const h of b){const p=h.target===n,I=s.indexOf(h.target),S=p?r:f[I],L=u(p?n:s[I]);if(S!==L){e.requestAnimationFrame(()=>{g.reInit(),t.emit("resize")});break}}}o=new ResizeObserver(b=>{c||(Sn(m)||m(g,b))&&x(b)}),[n].concat(s).forEach(b=>o.observe(b))}function a(){o&&o.disconnect(),c=!0}return{init:d,destroy:a}}function Hn(n,t,e,s){let i=!0,o=0,r=0,f=e,c=s;function u(){const h=t.get()-n.get();return!c||!f?(o=0,n.set(t)):(o+=h/f,o*=c,n.add(o)),r=yn(o||h),i=O(h)<.001,b}function d(){return i&&n.set(t),i}function a(){return o}function l(){return r}function g(){return x(e)}function m(){return v(s)}function x(h){return f=h,b}function v(h){return c=h,b}const b={direction:l,seek:u,settled:d,useBaseFriction:m,useBaseDuration:g,useFriction:v,useDuration:x,velocity:a};return b}function Vn(n,t,e,s,i){const o=i.measure(10),r=i.measure(50),f=J(.1,.99);let c=!1;function u(){return!(c||!n.reachedAny(e.get())||!n.reachedAny(t.get()))}function d(g){if(!u())return;const m=n.reachedMin(t.get())?"min":"max",x=O(n[m]-t.get()),v=e.get()-t.get(),b=f.constrain(x/r);e.subtract(v*b),!g&&O(v)<o&&(e.set(n.constrain(e.get())),s.useDuration(25).useBaseFriction())}function a(g){c=!g}return{constrain:d,toggleActive:a}}function zn(n,t,e,s){const i=J(-t+n,e[0]),o=c(),r=u();function f(){const a=o[0],l=X(o),g=o.lastIndexOf(a),m=o.indexOf(l)+1;return J(g,m)}function c(){return e.map(i.constrain).map(a=>parseFloat(a.toFixed(3)))}function u(){if(t<=n)return[i.max];if(s==="keepSnaps")return o;const{min:a,max:l}=f();return o.slice(a,l)}return{snapsContained:r}}function Gn(n,t,e){const s=t[0],i=e?s-n:X(t);return{limit:J(i,s)}}function jn(n,t,e,s){const o=t.min+.1,r=t.max+.1,{reachedMin:f,reachedMax:c}=J(o,r);function u(l){return l===1?c(e.get()):l===-1?f(e.get()):!1}function d(l){if(!u(l))return;const g=n*(l*-1);s.forEach(m=>m.add(g))}return{loop:d}}function Rn(n){const{max:t,length:e}=n;function s(o){return(o-t)/-e}return{get:s}}function qn(n,t,e,s,i,o,r){const{startEdge:f,endEdge:c}=n,{groupSlides:u}=o,d=g().map(t.measure),a=m(),l=x();function g(){return u(s).map(b=>X(b)[c]-b[0][f]).map(O)}function m(){return s.map(b=>e[f]-b[f]).map(b=>-O(b))}function x(){const h=X(a)-X(i);return u(a).map(p=>p[0]).map((p,I,S)=>{const L=!I,D=I===dn(S);return r&&L?0:r&&D?h:p+d[I]})}return{snaps:a,snapsAligned:l}}function Un(n,t,e,s,i){const{reachedAny:o,removeOffset:r,constrain:f}=s;function c(m){return m.concat().sort((x,v)=>O(x)-O(v))[0]}function u(m){const x=n?r(m):f(m),v=t.map(h=>h-x).map(h=>d(h,0)).map((h,p)=>({diff:h,index:p})).sort((h,p)=>O(h.diff)-O(p.diff)),{index:b}=v[0];return{index:b,distance:x}}function d(m,x){const v=[m,m+e,m-e];if(!n)return v[0];if(!x)return c(v);const b=v.filter(h=>yn(h)===x);return c(b)}function a(m,x){const v=t[m]-i.get(),b=d(v,x);return{index:m,distance:b}}function l(m,x){const v=i.get()+m,{index:b,distance:h}=u(v),p=!n&&o(v);if(!x||p)return{index:b,distance:m};const I=t[b]-h,S=m+d(I,0);return{index:b,distance:S}}return{byDistance:l,byIndex:a,shortcut:d}}function $n(n,t,e,s,i,o){function r(d){const a=d.distance,l=d.index!==t.get();a&&(n.start(),i.add(a)),l&&(e.set(t.get()),t.set(d.index),o.emit("select"))}function f(d,a){const l=s.byDistance(d,a);r(l)}function c(d,a){const l=t.clone().set(d),g=s.byIndex(l.get(),a);r(g)}return{distance:f,index:c}}function gn(n){let t=n;function e(){return t}function s(c){t=r(c)}function i(c){t+=r(c)}function o(c){t-=r(c)}function r(c){return hn(c)?c:c.get()}return{get:e,set:s,add:i,subtract:o}}function Tn(n,t,e){const s=n.scroll==="x"?r:f,i=e.style;let o=!1;function r(l){return`translate3d(${l}px,0px,0px)`}function f(l){return`translate3d(0px,${l}px,0px)`}function c(l){o||(i.transform=s(t.apply(l)))}function u(l){o=!l}function d(){o||(i.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Kn(n,t,e,s,i,o,r,f,c){const u=sn(i),d=sn(i).reverse(),a=x().concat(v());function l(S,L){return S.reduce((D,T)=>D-i[T],L)}function g(S,L){return S.reduce((D,T)=>l(D,L)>0?D.concat([T]):D,[])}function m(S,L){const D=L==="start",T=D?-s:s,P=r.findSlideBounds([T]);return S.map(k=>{const G=D?0:-s,U=D?s:0,w=P.filter(F=>F.index===k)[0][D?"end":"start"],H=gn(-1),V=Tn(n,t,c[k]);return{index:k,location:H,translate:V,target:()=>f.get()>w?G:U}})}function x(){const S=o[0]-1,L=g(d,S);return m(L,"end")}function v(){const S=e-o[0]-1,L=g(u,S);return m(L,"start")}function b(){return a.every(({index:S})=>{const L=u.filter(D=>D!==S);return l(L,e)<=.1})}function h(){a.forEach(S=>{const{target:L,translate:D,location:T}=S,P=L();P!==T.get()&&(D.to(P),T.set(P))})}function p(){a.forEach(S=>S.translate.clear())}return{canLoop:b,clear:p,loop:h,loopPoints:a}}function Qn(n,t){let e,s=!1;function i(f,c){if(!c)return;function u(d){for(const a of d)if(a.type==="childList"){f.reInit(),t.emit("slidesChanged");break}}e=new MutationObserver(d=>{s||(Sn(c)||c(f,d))&&u(d)}),e.observe(n,{childList:!0})}function o(){e&&e.disconnect(),s=!0}return{init:i,destroy:o}}function Xn(n,t,e,s,i,o,r){const{removeOffset:f,constrain:c}=i,u=.5,d=o?[0,t,-t]:[0],a=g(d,r);function l(v){const b=v||0;return e.map(h=>J(u,h-u).constrain(h*b))}function g(v,b){const h=v||d,p=l(b);return h.reduce((I,S)=>{const L=s.map((D,T)=>({start:D-e[T]+p[T]+S,end:D+n-p[T]+S,index:T}));return I.concat(L)},[])}function m(v,b){const h=o?f(v):c(v);return(b||a).reduce((I,S)=>{const{index:L,start:D,end:T}=S,P=I.includes(L),k=D<h&&T>h;return!P&&k?I.concat([L]):I},[])}return{check:m,findSlideBounds:g}}function Yn(n,t,e,s,i,o){const{measureSize:r,startEdge:f,endEdge:c}=n,u=e[0]&&i,d=m(),a=x(),l=e.map(r),g=v();function m(){if(!u)return 0;const h=e[0];return O(t[f]-h[f])}function x(){if(!u)return 0;const h=o.getComputedStyle(X(s));return parseFloat(h.getPropertyValue(`margin-${c}`))}function v(){return e.map((h,p,I)=>{const S=!p,L=p===dn(I);return S?l[p]+d:L?l[p]+a:I[p+1][f]-h[f]}).map(O)}return{slideSizes:l,slideSizesWithGaps:g}}function Jn(n,t,e){const s=hn(e);function i(c,u){return sn(c).filter(d=>d%u===0).map(d=>c.slice(d,d+u))}function o(c){return sn(c).reduce((u,d)=>{const l=t.slice(X(u),d+1).reduce((g,m)=>g+m,0);return!d||l>n?u.concat(d):u},[]).map((u,d,a)=>c.slice(u,a[d+1]))}function r(c){return s?i(c,e):o(c)}return{groupSlides:r}}function Zn(n,t,e,s,i,o,r,f){const{align:c,axis:u,direction:d,startIndex:a,inViewThreshold:l,loop:g,duration:m,dragFree:x,dragThreshold:v,slidesToScroll:b,skipSnaps:h,containScroll:p}=o,I=t.getBoundingClientRect(),S=e.map(Q=>Q.getBoundingClientRect()),L=Fn(d),D=Bn(u,d),T=D.measureSize(I),P=kn(T),k=Pn(c,T),G=!g&&!!p,U=g||!!p,{slideSizes:$,slideSizesWithGaps:w}=Yn(D,I,S,e,U,i),H=Jn(T,w,b),{snaps:V,snapsAligned:z}=qn(D,k,I,S,w,H,G),F=-X(V)+X(w),{snapsContained:en}=zn(T,F,z,p),j=G?en:z,{limit:R}=Gn(F,j,g),K=An(dn(j),a,g),Z=K.clone(),Y=sn(e),on=({dragHandler:Q,scrollBody:tn,scrollBounds:pn,scrollLooper:mn,slideLooper:cn,eventHandler:un,animation:Mn,options:{loop:bn}})=>{const xn=Q.pointerDown();bn||pn.constrain(xn);const En=tn.seek().settled();En&&!xn&&(Mn.stop(),un.emit("settle")),En||un.emit("scroll"),bn&&(mn.loop(tn.direction()),cn.loop())},_=({scrollBody:Q,translate:tn,location:pn},mn)=>{const cn=Q.velocity(),un=pn.get()-cn+cn*mn;tn.to(un)},N={update:()=>on(C),render:Q=>_(C,Q),start:()=>f.start(C),stop:()=>f.stop(C)},W=.68,nn=j[K.get()],q=gn(nn),y=gn(nn),E=Hn(q,y,m,W),M=Un(g,j,F,R,y),A=$n(N,K,Z,M,y,r),B=Xn(T,F,$,V,R,g,l),C={ownerDocument:s,ownerWindow:i,eventHandler:r,containerRect:I,slideRects:S,animation:N,axis:D,direction:L,dragHandler:Cn(D,L,n,s,i,y,Nn(D,i),q,N,A,E,M,K,r,P,x,v,h,W),eventStore:rn(),percentOfView:P,index:K,indexPrevious:Z,limit:R,location:q,options:o,resizeHandler:wn(t,r,i,e,D),scrollBody:E,scrollBounds:Vn(R,q,y,E,P),scrollLooper:jn(F,R,q,[q,y]),scrollProgress:Rn(R),scrollSnaps:j,scrollTarget:M,scrollTo:A,slideLooper:Kn(D,L,T,F,w,j,B,q,e),slidesHandler:Qn(t,r),slidesInView:B,slideIndexes:Y,slidesToScroll:H,target:y,translate:Tn(D,L,t)};return C}function _n(n){const t=16.666666666666668;let e=[],s=null,i=0,o=0;function r(a){s||(s=a);const l=a-s;for(s=a,i+=l;i>=t;)e.forEach(({animation:m})=>m.update()),i-=t;const g=O(i/t);e.forEach(({animation:m})=>m.render(g)),o&&n.requestAnimationFrame(r)}function f(a){e.includes(a)||e.push(a),!o&&(o=n.requestAnimationFrame(r))}function c(a){e=e.filter(l=>l!==a),!e.length&&(n.cancelAnimationFrame(o),s=null,i=0,o=0)}function u(){s=null,i=0}return{start:f,stop:c,reset:u,window:n}}function Wn(){const n={};let t;function e(c){t=c}function s(c){return n[c]||[]}function i(c){return s(c).forEach(u=>u(t,c)),f}function o(c,u){return n[c]=s(c).concat([u]),f}function r(c,u){return n[c]=s(c).filter(d=>d!==u),f}const f={init:e,emit:i,off:r,on:o};return f}const nt={align:"center",axis:"x",container:null,slides:null,containScroll:null,direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,dragThreshold:10,inViewThreshold:0,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function tt(n){function t(o,r){return Ln(o,r||{})}function e(o){const r=o.breakpoints||{},f=fn(r).filter(c=>n.matchMedia(c).matches).map(c=>r[c]).reduce((c,u)=>t(c,u),{});return t(o,f)}function s(o){return o.map(r=>fn(r.breakpoints||{})).reduce((r,f)=>r.concat(f),[]).map(n.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:s}}function et(n){let t=[];function e(o,r){return t=o.filter(({options:f})=>n.optionsAtMedia(f).active!==!1),t.forEach(f=>f.init(r,n)),o.reduce((f,c)=>Object.assign(f,{[c.name]:c}),{})}function s(){t=t.filter(o=>o.destroy())}return{init:e,destroy:s}}function ln(n,t,e){const s=n.ownerDocument,i=s.defaultView,o=tt(i),r=et(o),f=rn(),c=rn(),u=Wn(),{animationRealms:d}=ln,{mergeOptions:a,optionsAtMedia:l,optionsMediaQueries:g}=o,{on:m,off:x,emit:v}=u,b=U;let h=!1,p,I=a(nt,ln.globalOptions),S=a(I),L=[],D,T,P;function k(){const{container:E,slides:M}=S;T=(vn(E)?n.querySelector(E):E)||n.children[0];const B=vn(M)?T.querySelectorAll(M):M;P=[].slice.call(B||T.children)}function G(E,M){if(h)return;const A=d.find(C=>C.window===i),B=A||_n(i);if(A||d.push(B),I=a(I,E),S=l(I),L=M||L,k(),p=Zn(n,T,P,s,i,S,u,B),g([I,...L.map(({options:C})=>C)]).forEach(C=>f.add(C,"change",U)),!!S.active){if(p.translate.to(p.location.get()),p.eventHandler.init(y),p.resizeHandler.init(y,S.watchResize),p.slidesHandler.init(y,S.watchSlides),c.add(s,"visibilitychange",()=>{s.hidden&&B.reset()}),S.loop){if(!p.slideLooper.canLoop()){$(),G({loop:!1},M),I=a(I,{loop:!0});return}p.slideLooper.loop()}T.offsetParent&&P.length&&p.dragHandler.init(y,S.watchDrag),D=r.init(L,y)}}function U(E,M){const A=Y();$(),G(a({startIndex:A},E),M),u.emit("reInit")}function $(){p.dragHandler.destroy(),p.animation.stop(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),r.destroy(),f.clear(),c.clear()}function w(){h||(h=!0,f.clear(),$(),u.emit("destroy"))}function H(E){const M=p[E?"target":"location"].get(),A=S.loop?"removeOffset":"constrain";return p.slidesInView.check(p.limit[A](M))}function V(E){const M=H(E);return p.slideIndexes.filter(A=>!M.includes(A))}function z(E,M,A){!S.active||h||(p.scrollBody.useBaseFriction().useDuration(M?0:S.duration),p.scrollTo.index(E,A||0))}function F(E){const M=p.index.add(1).get();z(M,E===!0,-1)}function en(E){const M=p.index.add(-1).get();z(M,E===!0,1)}function j(){return p.index.add(1).get()!==Y()}function R(){return p.index.add(-1).get()!==Y()}function K(){return p.scrollSnaps.map(p.scrollProgress.get)}function Z(){return p.scrollProgress.get(p.location.get())}function Y(){return p.index.get()}function on(){return p.indexPrevious.get()}function _(){return D}function N(){return p}function W(){return n}function nn(){return T}function q(){return P}const y={canScrollNext:j,canScrollPrev:R,containerNode:nn,internalEngine:N,destroy:w,off:x,on:m,emit:v,plugins:_,previousScrollSnap:on,reInit:b,rootNode:W,scrollNext:F,scrollPrev:en,scrollProgress:Z,scrollSnapList:K,scrollTo:z,selectedScrollSnap:Y,slideNodes:q,slidesInView:H,slidesNotInView:V};return G(t,e),setTimeout(()=>u.emit("init"),0),y}ln.animationRealms=[];ln.globalOptions=void 0;export{ln as E};
